!function(t){function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}var n={};i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=2)}({2:function(t,i){function n(t){this.$ct=t,this.init(),this.bind()}n.prototype.init=function(){this.curPage=1,this.perPageCount=4,this.$nodeWidth=this.$ct.find(".item").outerWidth(!0),this.$itemsLength=parseInt(this.$ct.width()/this.$ct.find(".item").width()),this.itemArr=[];for(var t=0;t<this.$itemsLength;t++)this.itemArr[t]=0;this.winHeight=$(window).height()},n.prototype.bind=function(){var t=this;this.start(),this.$ct.find("#btn").click(function(){t.start()})},n.prototype.start=function(){var t=this;this.getData(function(i){$.each(i,function(i,n){var e=t.getNode(n);e.find("img").on("load",function(){t.$ct.find("#pic-ct").append(e),t.waterPlay(e)})})})},n.prototype.waterPlay=function(t){var i=this;t.each(function(){var n=Math.min.apply(null,i.itemArr),e=i.itemArr.indexOf(n);t.css({top:i.itemArr[e],left:t.outerWidth(!0)*e}),i.itemArr[e]+=t.outerHeight(!0),i.$ct.find("#pic-ct").height(Math.max.apply(null,i.itemArr))})},n.prototype.getNode=function(t){var i="";return i+='<li class="item">',i+='<a href="'+t.url+'" class="link"><img src="'+t.img_url+'"></a>',i+="</li>",$(i)},n.prototype.getData=function(t){var i=this;$.ajax({url:"http://platform.sina.com.cn/slide/album_tech",dataType:"jsonp",jsonp:"jsoncallback",data:{app_key:"1271687855",num:i.perPageCount,page:i.curPage}}).done(function(n){n&&n.status&&"0"===n.status.code?(t(n.data),i.curPage++):console.log("get error data")})},waterfallOn=function(){return{init:function(t){t.each(function(t,i){new n($(i))})}}}()}});